<UserControl
	x:Class="SKDModule.Views.ControlReaderComponent"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:lang="clr-namespace:Localization.SKD.Views;assembly=Localization"
    x:Name="_this"
    mc:Ignorable="d">
	<UserControl.Resources>
		<ResourceDictionary>
			<ResourceDictionary.MergedDictionaries>
				<ResourceDictionary Source="pack://application:,,,/Controls;component/Themes/HyperlinkStyle.xaml" />
			</ResourceDictionary.MergedDictionaries>
			<InversedBoolToVisibilityConverter x:Key="InversedBoolToVisibilityConverter" />
			<BooleanToVisibilityConverter x:Key="BooleanToVisibilityConverter" />
		</ResourceDictionary>
	</UserControl.Resources>
	<StackPanel Orientation="Horizontal">
		<TextBlock
			Focusable="False"
			VerticalAlignment="Center"
			FocusVisualStyle="{x:Null}"
			Visibility="{Binding IsReaderSelected, Mode=TwoWay, ElementName=_this, Converter={StaticResource InversedBoolToVisibilityConverter}, FallbackValue=Collapsed}"
			TextWrapping="Wrap">
			<Hyperlink
				x:Name="Link"
				Focusable="False"
				FocusVisualStyle="{x:Null}"
				IsEnabled="{Binding IsLinkEnabled, ElementName=_this}"
				Command="{Binding ClickCommand, ElementName=_this}"
				Style="{StaticResource HyperlinkStyle}">
				<TextBlock
					FocusVisualStyle="{x:Null}"
					Focusable="False"
					Text="{Binding LinkText, FallbackValue={x:Static lang:CommonViews.ChooseReaderClick}, ElementName=_this}">
					<TextBlock.Style>
						<Style>
							<Style.Triggers>
								<DataTrigger Binding="{Binding ElementName=Link, Path=IsEnabled}" Value="False">
									<Setter Property="TextBlock.Foreground" Value="LightGray" />
								</DataTrigger>
							</Style.Triggers>
						</Style>
					</TextBlock.Style>
					</TextBlock>
			</Hyperlink>
		</TextBlock>
		<TextBox
			x:Name="ContentTextBox"
			Visibility="{Binding IsReaderSelected, Mode=TwoWay, ElementName=_this, Converter={StaticResource BooleanToVisibilityConverter}, FallbackValue=Visible}"
			VerticalAlignment="Center"
			Validation.ErrorTemplate="{x:Null}"
			IsReadOnly="True"
			IsEnabled="{Binding ElementName=_this, Path=IsEnabled, UpdateSourceTrigger=PropertyChanged}"
			Width="{Binding TextBoxWidth, ElementName=_this}"
			MinWidth="50">
			<TextBox.Style>
				<Style BasedOn="{StaticResource {x:Type TextBox}}" TargetType="{x:Type TextBox}">
					<Setter Property="Text" Value="{Binding Path=ContentText, ElementName=_this, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}" />
					<Style.Triggers>
						<Trigger Property="IsEnabled" Value="False">
							<Setter Property="Text" Value="{x:Null}" />
						</Trigger>
					</Style.Triggers>
				</Style>
			</TextBox.Style>
		</TextBox>
		<!--<Button
			Grid.Column="1"
			MinWidth="30"
			VerticalAlignment="Center"
			Visibility="{Binding IsReaderSelected, Mode=TwoWay, ElementName=_this, Converter={StaticResource BooleanToVisibilityConverter}, FallbackValue=Visible}"
			Content="F"
			Click="ButtonBase_OnClick"/>-->
		<ToolBarButton
			Command="{Binding ClearCommand, ElementName=_this}"
			Height="25"
			Width="30"
			Visibility="{Binding IsReaderSelected, Mode=TwoWay, ElementName=_this, Converter={StaticResource BooleanToVisibilityConverter}, FallbackValue=Visible}"
			ImageSource="Close"
			Margin="5 0 0 0"/>
	</StackPanel>
	<!--</Grid>-->
</UserControl>
