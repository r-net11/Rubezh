<UserControl
	x:Class="SKDModule.Views.TimeTrackingDayControlView"
	xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
	xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
	xmlns:Converters="clr-namespace:SKDModule.Converters">
	<UserControl.Resources>
		<Converters:TimeTrackTypeToColorConverter x:Key="TimeTrackTypeToColorConverter" />
		<Converters:TimeSpanToStringConverter x:Key="TimeSpanToStringConverter" />
		<Converters:TimeSpanToColorConverter x:Key="TimeSpanToColorConverter" />
	</UserControl.Resources>
	<Grid
		Margin="0.15 0.1"
		Background="Transparent"
		Cursor="Hand"
		MouseDown="Grid_MouseDown"
		ToolTip="{Binding DayTimeTrack.Tooltip}">
		<Border
			BorderBrush="#FF585858"
			BorderThickness="1"
			SnapsToDevicePixels="True">
			<StackPanel Background="White">
				<Grid Height="60">
					<DockPanel x:Name="BackgroundRectangle" Background="{Binding DayTimeTrack.BackgroundColor, Converter={StaticResource TimeTrackTypeToColorConverter}}">
						<DockPanel.Triggers>
							<EventTrigger RoutedEvent="DockPanel.MouseEnter">
								<BeginStoryboard>
									<Storyboard>
										<ColorAnimation
											Duration="0:0:0.2"
											Storyboard.TargetProperty="Background.Color"
											To="#fbd029" />
									</Storyboard>
								</BeginStoryboard>
							</EventTrigger>
							<EventTrigger RoutedEvent="DockPanel.MouseLeave">
								<BeginStoryboard>
									<Storyboard>
										<ColorAnimation
											Duration="0:0:0.1"
											FillBehavior="Stop"
											Storyboard.TargetProperty="Background.Color" />
									</Storyboard>
								</BeginStoryboard>
							</EventTrigger>
						</DockPanel.Triggers>
						<TextBlock
							x:Name="FontText"
							HorizontalAlignment="Center"
							VerticalAlignment="Center"
							FontSize="16"
							Text="{Binding DayTimeTrack.LetterCode}" />
					</DockPanel>
					<!--<Rectangle x:Name="BackgroundRectangle" Fill="{Binding DayTimeTrack.TimeTrackType, Converter={StaticResource TimeTrackTypeToColorConverter}}" />-->
				</Grid>
				<ItemsControl ItemsSource="{Binding Totals}">
					<ItemsControl.ItemTemplate>
						<DataTemplate>
							<TextBlock
								Height="20"
								HorizontalAlignment="Center"
								VerticalAlignment="Center"
								Foreground="{Binding TimeSpan, Converter={StaticResource TimeSpanToColorConverter}}"
								Text="{Binding TimeSpan, Converter={StaticResource TimeSpanToStringConverter}}"
								ToolTip="{Binding TimeTrackType, Converter={StaticResource EnumToDescriptionConverter}}" />
						</DataTemplate>
					</ItemsControl.ItemTemplate>
				</ItemsControl>
			</StackPanel>
		</Border>
	</Grid>
</UserControl>