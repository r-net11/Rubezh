<UserControl
	x:Class="SKDModule.Views.TimeTrackFilterView"
	xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
	xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
	xmlns:Views="clr-namespace:SKDModule.Views"
	xmlns:behaviours="clr-namespace:Controls.Behaviours;assembly=Controls"
	Width="800"
	Height="500">
	<TabControl>
		<TabItem Header="Организации" >
			<Views:OrganisationsFilterView IsCheckBoxes="False"/>
		</TabItem>
		<TabItem Header="Подразделения">
			<Views:DepartmentsFilterView DataContext="{Binding DepartmentsFilterViewModel}" />
		</TabItem>
		<TabItem Header="Должности">
			<Views:PositionsFilterView DataContext="{Binding PositionsFilterViewModel}" />
		</TabItem>
		<TabItem Header="Сотрудники">
			<Views:EmployeesFilterView DataContext="{Binding EmployeeFilterViewModel}" />
		</TabItem>
		<TabItem Header="Период">
			<Grid Margin="50 50 50 50">
				<Grid.ColumnDefinitions>
					<ColumnDefinition Width="0.5*" />
					<ColumnDefinition />
					<ColumnDefinition Width="0.5*" />
				</Grid.ColumnDefinitions>
				<Grid Grid.Column="1">
					<Grid.ColumnDefinitions>
						<ColumnDefinition Width="Auto" />
						<ColumnDefinition />
					</Grid.ColumnDefinitions>
					<Grid.RowDefinitions>
						<RowDefinition Height="Auto" />
						<RowDefinition Height="Auto" />
						<RowDefinition Height="Auto" />
					</Grid.RowDefinitions>
						<TextBlock
							HorizontalAlignment="Right"
							Text="Период отчета"
							Foreground="White"
							VerticalAlignment="Center"
							Margin="5" />
					<ComboBox
							Grid.Column="1"
							ItemsSource="{Binding Periods}"
							SelectedItem="{Binding Period}"
							Margin="5">
						<ComboBox.ItemTemplate>
							<DataTemplate>
								<TextBlock Text="{Binding Converter={StaticResource EnumToDescriptionConverter}}" />
							</DataTemplate>
						</ComboBox.ItemTemplate>
					</ComboBox>
					<TextBlock
						Grid.Row="1"
						Text="Дата начала"
						HorizontalAlignment="Right"
						VerticalAlignment="Center"
						Foreground="White"
						Margin="5" />
					<DatePicker
						Grid.Row="1"
						Grid.Column="1"
						behaviours:DatePickerCustomWatermark.Watermark="{StaticResource WatermarkColor}"
						behaviours:DatePickerCustomWatermark.WatermarkText="дд.мм.ггг"
						Validation.ErrorTemplate="{x:Null}"
						DisplayDate="{Binding StartDate, UpdateSourceTrigger=PropertyChanged}"
						IsEnabled="{Binding IsFreePeriod}"
						SelectedDate="{Binding StartDate, UpdateSourceTrigger=PropertyChanged}"
						DisplayDateStart="{Binding MinDate, Mode=OneWay}"
						DisplayDateEnd="{Binding MaxDate, Mode=OneWay}"
						VerticalAlignment="Center"
						Margin="5" />
					<TextBlock
						Grid.Row="2"
						Text="Дата конца"
						HorizontalAlignment="Right"
						VerticalAlignment="Center"
						Foreground="White"
						Margin="5" />
					<DatePicker
						Grid.Column="1"
						Grid.Row="2"
						behaviours:DatePickerCustomWatermark.Watermark="{StaticResource WatermarkColor}"
						behaviours:DatePickerCustomWatermark.WatermarkText="дд.мм.ггг"
						Validation.ErrorTemplate="{x:Null}"
						DisplayDate="{Binding EndDate, UpdateSourceTrigger=PropertyChanged}"
						IsEnabled="{Binding IsFreePeriod}"
						SelectedDate="{Binding EndDate, UpdateSourceTrigger=PropertyChanged}"
						DisplayDateStart="{Binding MinDate, Mode=OneWay}"
						DisplayDateEnd="{Binding MaxDate, Mode=OneWay}"
						Margin="5" />
				</Grid>
			</Grid>
		</TabItem>
		<TabItem Header="Отображаемые данные">
			<Border CornerRadius="5" Background="White" Margin="2">
				<ItemsControl ItemsSource="{Binding Totals}" Margin="5">
					<ItemsControl.ItemTemplate>
						<DataTemplate>
							<CheckBox Content="{Binding TimeTrackType, Converter={StaticResource EnumToDescriptionConverter}}" IsChecked="{Binding IsChecked}" Margin="2" />
						</DataTemplate>
					</ItemsControl.ItemTemplate>
				</ItemsControl>
			</Border>
		</TabItem>
	</TabControl>
</UserControl>