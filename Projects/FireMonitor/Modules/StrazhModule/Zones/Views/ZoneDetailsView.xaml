<UserControl
	x:Class="StrazhModule.Views.ZoneDetailsView"
	xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
	xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
	xmlns:langCommon="clr-namespace:Localization.Strazh.Common;assembly=Localization"
	xmlns:lang="clr-namespace:Localization.Strazh.Views;assembly=Localization"
	MinWidth="400"
	MinHeight="400"
	MaxWidth="600"
	MaxHeight="600">
	<Grid>
		<Grid.RowDefinitions>
			<RowDefinition Height="Auto" />
			<RowDefinition Height="*" />
		</Grid.RowDefinitions>
		<StackPanel Orientation="Horizontal">
			<Rectangle
				Fill="{Binding State.StateClass, Converter={StaticResource XStateClassToColorConverter2}}"
				StrokeThickness="2"
				Stroke="Black"
				Width="50"
				Height="50"
				Margin="0, 0, 0, 5" />
			<StackPanel VerticalAlignment="Top">
				<StackPanel Orientation="Horizontal">
					<Image
						Source="{Binding State.StateClass, Converter={StaticResource XStateClassToIconConverter}}"
						Width="16"
						Height="16"
						VerticalAlignment="Center"
						Margin="5 0 0 0" />
					<TextBlock
						Text="{Binding State.StateClass, Converter={StaticResource XStateClassToSKDStringConverter2}}"
						Foreground="White"
						FontWeight="Bold"
						VerticalAlignment="Center"
						Margin="5, 1, 1, 1" />
				</StackPanel>
				<Button
					Content="{x:Static langCommon:CommonResources.ResetBreakinState}"
					Command="{Binding ClearPromptWarningCommand}"
					Visibility="{Binding IsPromptWarning, Converter={StaticResource BoolToVisibilityConverter}}"
					Width="160"
					Margin="2" />
			</StackPanel>
		</StackPanel>
		<TabControl Grid.Row="1">
            <TabItem Header="{x:Static lang:CommonViews.Main}">
				<ItemsControl Background="White">
					<ItemsControl.Items>
						<WrapPanel Margin="2">
							<TextBlock>
								<Hyperlink
									Command="{Binding ShowCommand}"
									Style="{StaticResource HyperlinkStyle2}">
									<StackPanel Orientation="Horizontal">
										<Image
											Width="16"
											Source="/Controls;component/Images/Zone.png"
											Margin="0 0 0 2" />
										<TextBlock
											Text="{Binding Zone.Name}"
											VerticalAlignment="Center"
											TextWrapping="Wrap"
											FontWeight="Bold" />
									</StackPanel>
								</Hyperlink>
							</TextBlock>
						</WrapPanel>
						<StackPanel
							Orientation="Horizontal"
							Margin="2">
							<WrapPanel>
								<TextBlock>
										<Hyperlink
											Command="{Binding ShowJournalCommand}"
											Style="{StaticResource HyperlinkStyle2}">
											<StackPanel Orientation="Horizontal">
												<Grid
													Width="16"
													Background="{DynamicResource BJournal}" />
												<TextBlock
													Margin="2"
													VerticalAlignment="Center"
													FontWeight="Bold"
													Text="{x:Static langCommon:CommonResources.ShowRelatedEvents}"
													TextWrapping="Wrap" />
											</StackPanel>
										</Hyperlink>
									</TextBlock>
							</WrapPanel>
						</StackPanel>
						<WrapPanel Visibility="{Binding HasPlans, Converter={StaticResource BoolToVisibilityConverter}}">
							<TextBlock
								Text="{x:Static lang:CommonViews.Plan}"
								FontWeight="Bold"
								VerticalAlignment="Center"
								Margin="2" />
							<ItemsControl ItemsSource="{Binding Plans}">
								<ItemsControl.ItemsPanel>
									<ItemsPanelTemplate>
										<StackPanel Orientation="Horizontal" />
									</ItemsPanelTemplate>
								</ItemsControl.ItemsPanel>
								<ItemsControl.ItemTemplate>
									<DataTemplate>
										<TextBlock Margin="2 0">
										<Hyperlink
											Command="{Binding ShowOnPlanCommand}"
											Style="{StaticResource HyperlinkStyle2}">
											<StackPanel Orientation="Horizontal">
												<Image
													Width="16"
													Source="/Controls;component/Images/CMap.png"
													Margin="1" />
												<TextBlock
													Text="{Binding Name}"
													VerticalAlignment="Center"
													Margin="1" />
											</StackPanel>
										</Hyperlink>
									</TextBlock>
									</DataTemplate>
								</ItemsControl.ItemTemplate>
							</ItemsControl>
						</WrapPanel>
					</ItemsControl.Items>
				</ItemsControl>
			</TabItem>
            <TabItem Header="{x:Static lang:CommonViews.Management}">
				<StackPanel Background="White">
					<GroupBox
						Header="{x:Static lang:CommonViews.ChangeMode}"
						Margin="5"
						Padding="5">
						<StackPanel>
							<Button
								Content="{x:Static langCommon:CommonResources.Opened}"
								Command="{Binding ZoneAccessStateOpenAlwaysCommand}"
								Width="200"
								Height="30"
								Margin="2" />
							<Button
								Content="{x:Static lang:CommonViews.Norm}"
								Command="{Binding ZoneAccessStateNormalCommand}"
								Width="200"
								Height="30"
								Margin="2" />
							<Button
								Content="{x:Static langCommon:CommonResources.Closed}"
								Command="{Binding ZoneAccessStateCloseAlwaysCommand}"
								Width="200"
								Height="30"
								Margin="2" />
						</StackPanel>
					</GroupBox>
					<GroupBox
						Header="{x:Static lang:CommonViews.OperManagementCommands}"
						Margin="5"
						Padding="5">
						<StackPanel>
							<Button
								Content="{x:Static langCommon:CommonResources.Open}"
								Command="{Binding OpenCommand}"
								Width="200"
								Height="30"
								Margin="2" />
							<Button
								Content="{x:Static langCommon:CommonResources.Close}"
								Command="{Binding CloseCommand}"
								Width="200"
								Height="30"
								Margin="2" />
						</StackPanel>
					</GroupBox>
				</StackPanel>
			</TabItem>
		</TabControl>
	</Grid>
</UserControl>