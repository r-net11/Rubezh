<UserControl
	x:Class="JournalModule.Views.ArchiveView"
	xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
	xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
	xmlns:Controls="clr-namespace:Controls;assembly=Controls"
	xmlns:Views="clr-namespace:JournalModule.Views"
	xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
	xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:res="clr-namespace:JournalModule.Resources.Language"
	d:DesignHeight="300"
	d:DesignWidth="300"
	mc:Ignorable="d">
	<Grid>
		<Grid.RowDefinitions>
			<RowDefinition Height="Auto" />
			<RowDefinition Height="*" />
		</Grid.RowDefinitions>

		<Border
			Grid.Row="0"
			Background="{DynamicResource BackgroundBrush}"
			CornerRadius="5">
			<Grid>
				<Grid.ColumnDefinitions>
					<ColumnDefinition Width="Auto" />
					<ColumnDefinition Width="Auto" />
					<ColumnDefinition Width="*" />
					<ColumnDefinition Width="*" />
					<ColumnDefinition Width="Auto" />
				</Grid.ColumnDefinitions>
				<Controls:ToolBarButton
					Command="{Binding ShowFilterCommand}"
					ImageSource="Filter"
					ToolTip="{x:Static res:ArchiveView.Filter}" />
				<Controls:ToolBarButton
					Grid.Column="1"
					Command="{Binding RefreshCommand}"
					ImageSource="Refresh"
					ToolTip="{x:Static res:ArchiveView.Refresh}" />
				<StackPanel
					Grid.Column="2"
					HorizontalAlignment="Center"
					VerticalAlignment="Center"
					IsEnabled="{Binding HasPages,
				                                Converter={StaticResource NullToBoolConverter}}"
					Orientation="Horizontal">
					<Controls:ToolBarButton
						Command="{Binding FirstPageCommand}"
						ImageSource="LeftLeft"
						ToolTip="{x:Static res:ArchiveView.FirstPage}" />
					<Controls:ToolBarButton
						Command="{Binding PreviousPageCommand}"
						ImageSource="Left"
						ToolTip="{x:Static res:ArchiveView.PreviousPage}" />
					<TextBox
						Height="30"
						MinWidth="25"
						MinHeight="25"
						HorizontalContentAlignment="Center"
						VerticalContentAlignment="Stretch"
						ContextMenu="{x:Null}"
						FontSize="20"
						Text="{Binding CurrentPageNumber,
					                        Mode=TwoWay,
					                        UpdateSourceTrigger=PropertyChanged}" />
					<Label
						VerticalContentAlignment="Center"
						Content="/"
						FontSize="20" />
					<Label
						VerticalContentAlignment="Center"
						Content="{Binding TotalPageNumber}"
						FontSize="20" />
					<Controls:ToolBarButton
						Command="{Binding NextPageCommand}"
						ImageSource="Right"
						ToolTip="{x:Static res:ArchiveView.NextPage}" />
					<Controls:ToolBarButton
						Command="{Binding LastPageCommand}"
						ImageSource="RightRight"
						ToolTip="{x:Static res:ArchiveView.LastPage}" />
				</StackPanel>
				<StackPanel
					Grid.Column="3"
					HorizontalAlignment="Center"
					Orientation="Horizontal">
					<Controls:SpinnerCogs VerticalAlignment="Center" Visibility="{Binding IsLoading, Converter={StaticResource BoolToVisibilityConverter}}" />
					<TextBlock
						Margin="2"
						VerticalAlignment="Center"
						FontWeight="Bold"
						Foreground="White"
						Text="{Binding Status}" />
				</StackPanel>
				<Controls:ToolBarButton
					Grid.Column="4"
					Command="{Binding ShowSettingsCommand}"
					ImageSource="Settings2"
					ToolTip="{x:Static res:ArchiveView.Settings}" />
			</Grid>
		</Border>
		<Views:JournalView Grid.Row="1" Margin="0 5 0 0" />
	</Grid>
</UserControl>