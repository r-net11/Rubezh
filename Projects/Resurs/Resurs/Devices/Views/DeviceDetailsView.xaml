<UserControl x:Class="Resurs.Views.DeviceDetailsView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
			 xmlns:Controls="clr-namespace:Controls;assembly=Controls"
			 xmlns:ExtToolkit="clr-namespace:Microsoft.Windows.Controls;assembly=WPFToolkit.Extended"
			 MinWidth="700" MinHeight="400">
	<ScrollViewer Name="_scrollViewer" HorizontalScrollBarVisibility="Auto" VerticalScrollBarVisibility="Auto">
		<Grid>
			<Grid.ColumnDefinitions>
				<ColumnDefinition Width="*" />
				<ColumnDefinition Width="*" />
			</Grid.ColumnDefinitions>
			<Grid.RowDefinitions>
				<RowDefinition Height="Auto" />
				<RowDefinition Height="Auto" />
				<RowDefinition Height="Auto" />
			</Grid.RowDefinitions>
			<TextBlock Grid.Row="1" Grid.Column="0" Text="Устройство активно" HorizontalAlignment="Right" Foreground="{DynamicResource ForegroundColorWhite}" Margin="2" />
			<CheckBox Grid.Row="1" Grid.Column="1" IsChecked="{Binding IsActive}" Margin="2" />
			<ItemsControl Grid.Row="2" Grid.Column="0" Grid.ColumnSpan="2" ItemsSource="{Binding Parameters}" Margin="2">
				<ItemsControl.ItemTemplate>
					<DataTemplate>
						<Grid>
							<Grid.ColumnDefinitions>
								<ColumnDefinition Width="*" />
								<ColumnDefinition Width="*" />
							</Grid.ColumnDefinitions>
							<TextBlock Grid.Column="0" Text="{Binding Name}" HorizontalAlignment="Right" Style="{DynamicResource TextBlockDetailsStyle}" />
							
							<TextBlock Grid.Column="1" Style="{DynamicResource TextBlockDetailsStyle}" 
									   Text="{Binding ReadOnlyValue, Mode=OneWay}" Visibility="{Binding IsNotReadOnly, Converter={StaticResource InversedBoolToVisibilityConverter}}" />
							<TextBox Grid.Column="1" Margin="2"
									 Visibility="{Binding IsShowTextBlock, Converter={StaticResource BoolToVisibilityConverter}}" Text="{Binding StringValue, UpdateSourceTrigger=PropertyChanged}" />
							<ComboBox Grid.Column="1" ItemsSource="{Binding ParameterEnum}"  Margin="2"
									  SelectedItem="{Binding SelectedEnumItem}" Visibility="{Binding IsEnum, Converter={StaticResource BoolToVisibilityConverter}}" >
								<ComboBox.ItemTemplate>
									<DataTemplate>
										<TextBlock Text="{Binding Name}" Margin="1" />
									</DataTemplate>
								</ComboBox.ItemTemplate>
							</ComboBox>
							<ExtToolkit:IntegerUpDown Grid.Column="1" Margin="2" HorizontalAlignment="Left"
													  Value="{Binding IntValue, UpdateSourceTrigger=PropertyChanged}" Visibility="{Binding IsInt, Converter={StaticResource BoolToVisibilityConverter}}" />
							<CheckBox Grid.Column="1" Margin="2" VerticalAlignment="Center"
									  Visibility="{Binding IsBool, Converter={StaticResource BoolToVisibilityConverter}}"
									  IsChecked="{Binding BoolValue}" />
							<StackPanel Grid.Column="1" Orientation="Horizontal" Visibility="{Binding IsDateTime, Converter={StaticResource BoolToVisibilityConverter}}">
								<DatePicker VerticalAlignment="Center" Width="150" Focusable="False" Margin="2" SelectedDate="{Binding DateTimeValue.Date}" Visibility="{Binding IsNotReadOnly, Converter={StaticResource BoolToVisibilityConverter}}" />
								<Controls:TimePicker Margin="2"  TimeSpan="{Binding DateTimeValue.Time}"  Visibility="{Binding IsNotReadOnly, Converter={StaticResource BoolToVisibilityConverter}}" />
							</StackPanel>
						</Grid>
					</DataTemplate>
				</ItemsControl.ItemTemplate>
			</ItemsControl>
		</Grid>
	</ScrollViewer>
</UserControl>