<UserControl
	x:Class="Integration.OPC.Views.ZonesOPCView"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
	xmlns:converters="clr-namespace:Controls.Converters;assembly=Controls"
    mc:Ignorable="d"
    d:DesignHeight="300"
	d:DesignWidth="300">
	<UserControl.Resources>
		<ResourceDictionary>
			<converters:EnumToDescriptionConverter x:Key="EnumToDescriptionConverter" />
		</ResourceDictionary>
	</UserControl.Resources>
    <Grid>
		<DataGrid
			ItemsSource="{Binding ZonesOPC, IsAsync=True}"
			SelectedItem="{Binding SelectedZoneOPC}"
			CanUserSortColumns="True">
			<DataGrid.Columns>
				<DataGridTemplateColumn
					Header="№"
					Width="Auto"
					CanUserResize="False"
					SortMemberPath="No">
					<DataGridTemplateColumn.CellTemplate>
						<DataTemplate>
							<StackPanel Orientation="Horizontal">
								<Image Source="{Binding VisualizationState, Converter={StaticResource VisualizationStateToImageSourceConverter}}" />
								<TextBlock Text="{Binding No}" />
							</StackPanel>
						</DataTemplate>
					</DataGridTemplateColumn.CellTemplate>
				</DataGridTemplateColumn>
				<DataGridTemplateColumn Header="Наименование" Width="2*">
					<DataGridTemplateColumn.CellTemplate>
						<DataTemplate>
							<TextBlock
								Text="{Binding Name}"
								Margin="5 0"/>
						</DataTemplate>
					</DataGridTemplateColumn.CellTemplate>
				</DataGridTemplateColumn>
				<DataGridTemplateColumn Header="Назначение" Width="*">
					<DataGridTemplateColumn.CellTemplate>
						<DataTemplate>
							<TextBlock
								Text="{Binding Type, Converter={StaticResource EnumToDescriptionConverter}}"
								Margin="5 0"/>
						</DataTemplate>
					</DataGridTemplateColumn.CellTemplate>
				</DataGridTemplateColumn>
				<DataGridTemplateColumn Header="Примечание" Width="*">
					<DataGridTemplateColumn.CellTemplate>
						<DataTemplate>
							<TextBlock
								Text="{Binding Description}"
								Margin="5 0"/>
						</DataTemplate>
					</DataGridTemplateColumn.CellTemplate>
				</DataGridTemplateColumn>
			</DataGrid.Columns>
		</DataGrid>
    </Grid>
</UserControl>
