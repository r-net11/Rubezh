<UserControl
	x:Class="Integration.OPC.Views.ZonesOPCView"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
	xmlns:converters="clr-namespace:Controls.Converters;assembly=Controls"
	xmlns:models="clr-namespace:Integration.OPC.Models"
    mc:Ignorable="d"
    d:DesignHeight="300"
	d:DesignWidth="400">
	<UserControl.Resources>
		<ResourceDictionary>
			<converters:EnumToDescriptionConverter x:Key="EnumToDescriptionConverter" />
			<converters:VisualizationStateToImageSourceConverter x:Key="VisualizationStateToImageSourceConverter" />
		</ResourceDictionary>
	</UserControl.Resources>
	<DataGrid
		ItemsSource="{Binding ZonesOPC, IsAsync=True}"
		SelectedItem="{Binding SelectedZoneOPC}"
		CanUserSortColumns="True"
		CanUserReorderColumns="False">
		<DataGrid.Columns>
			<DataGridTemplateColumn
				Header="№"
				Width="Auto"
				CanUserResize="False"
				SortMemberPath="No">
				<DataGridTemplateColumn.CellTemplate>
					<DataTemplate DataType="{x:Type models:OPCZone}">
						<StackPanel Orientation="Horizontal">
							<Image
								Source="{Binding VisualizationState, Converter={StaticResource VisualizationStateToImageSourceConverter}}"
								VerticalAlignment="Center"
								Margin="5 2 0 0"/>
							<TextBlock
								Text="{Binding No}"
								VerticalAlignment="Center"
								Margin="5 0"/>
						</StackPanel>
					</DataTemplate>
				</DataGridTemplateColumn.CellTemplate>
			</DataGridTemplateColumn>
			<DataGridTemplateColumn Header="Наименование" Width="2*" SortMemberPath="Name">
				<DataGridTemplateColumn.CellTemplate>
					<DataTemplate DataType="{x:Type models:OPCZone}">
						<TextBlock
							Text="{Binding Name}"
							Margin="5 0"/>
					</DataTemplate>
				</DataGridTemplateColumn.CellTemplate>
			</DataGridTemplateColumn>
			<DataGridTemplateColumn Header="Назначение" Width="*" SortMemberPath="Type">
				<DataGridTemplateColumn.CellTemplate>
					<DataTemplate DataType="{x:Type models:OPCZone}">
						<TextBlock
							Text="{Binding Type, Converter={StaticResource EnumToDescriptionConverter}}"
							Margin="5 0"/>
					</DataTemplate>
				</DataGridTemplateColumn.CellTemplate>
			</DataGridTemplateColumn>
			<DataGridTemplateColumn Header="Примечание" Width="*" SortMemberPath="Description">
				<DataGridTemplateColumn.CellTemplate>
					<DataTemplate DataType="{x:Type models:OPCZone}">
						<TextBlock
							Text="{Binding Description}"
							Margin="5 0"/>
					</DataTemplate>
				</DataGridTemplateColumn.CellTemplate>
			</DataGridTemplateColumn>
		</DataGrid.Columns>
	</DataGrid>
</UserControl>
