<UserControl x:Class="AutomationModule.Views.VariablesView"
			 xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
			 xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
			 xmlns:automation="clr-namespace:FiresecAPI.Automation;assembly=FiresecAPI"
             xmlns:res="clr-namespace:AutomationModule.Resources.Language.Procedures.Views">
	<Grid>
		<Grid.RowDefinitions>
			<RowDefinition Height="50" />
			<RowDefinition Height="*" />
		</Grid.RowDefinitions>
		<StackPanel Grid.Row="0" Orientation="Horizontal">
			<ToolBarButton Command="{Binding AddCommand}" ToolTip="{x:Static res:VariablesView.Add}" ImageSource="Add"  />
            <ToolBarButton Command="{Binding EditCommand}" ToolTip="{x:Static res:VariablesView.Edit}" ImageSource="Edit"  />
            <ToolBarButton Command="{Binding DeleteCommand}" ToolTip="{x:Static res:VariablesView.Delete}" ImageSource="Delete"  />
		</StackPanel>
		<XDataGrid Grid.Row="1" CanUserSortColumns="True" ItemsSource="{Binding Variables}" SelectedItem="{Binding SelectedVariable}" IsReadOnly="False">
			<DataGrid.Columns>
                <DataGridTemplateColumn Header="{x:Static res:VariablesView.Name}" Width="*" SortMemberPath="Variable.Name" CanUserResize="False">
					<DataGridTemplateColumn.CellTemplate>
						<DataTemplate>
							<StackPanel Orientation="Horizontal">
								<Image Source="/Controls;component/Images/GlobalVariable.png" Width="16" Margin="2 0 0 0" />
								<TextBlock Text="{Binding Variable.Name}" HorizontalAlignment="Stretch" VerticalAlignment="Center" Margin="2 0" />
							</StackPanel>
						</DataTemplate>
					</DataGridTemplateColumn.CellTemplate>
				</DataGridTemplateColumn>
                <DataGridTemplateColumn Header="{x:Static res:VariablesView.Type}" Width="*">
					<DataGridTemplateColumn.CellTemplate>
						<DataTemplate>
							<TextBlock Text="{Binding TypeDescription}" HorizontalAlignment="Stretch" VerticalAlignment="Center" Margin="2 0" />							
						</DataTemplate>
					</DataGridTemplateColumn.CellTemplate>
				</DataGridTemplateColumn>
                <DataGridTemplateColumn Header="{x:Static res:VariablesView.Value}" Width="*">
					<DataGridTemplateColumn.CellTemplate>
						<DataTemplate>
							<TextBlock Text="{Binding ValueDescription}" ToolTip="{Binding ValueDescription}" HorizontalAlignment="Stretch" VerticalAlignment="Center" Margin="2 0" />
						</DataTemplate>
					</DataGridTemplateColumn.CellTemplate>
				</DataGridTemplateColumn>
			</DataGrid.Columns>
		</XDataGrid>
	</Grid>
</UserControl>