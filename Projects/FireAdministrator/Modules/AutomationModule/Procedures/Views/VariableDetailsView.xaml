<UserControl
	x:Class="AutomationModule.Views.VariableDetailsView"
	xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
	xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
	xmlns:Views="clr-namespace:AutomationModule.Views"
    xmlns:res="clr-namespace:AutomationModule.Resources.Language.Procedures.Views"
	MinWidth="650"
	MinHeight="400">
	<Border Background="{DynamicResource BackgroundBrush}">
		<Grid Margin="10">
			<Grid.ColumnDefinitions>
				<ColumnDefinition />
				<ColumnDefinition Width="5" />
				<ColumnDefinition />
			</Grid.ColumnDefinitions>
			<Grid.RowDefinitions>
				<RowDefinition Height="Auto" />
				<RowDefinition Height="*" />
			</Grid.RowDefinitions>
			<TreeList
				Grid.RowSpan="2"
				Focusable="True"
				SelectedTreeNode="{Binding SelectedExplicitType}"
				SelectionMode="Single"
				Source="{Binding ExplicitTypes}">
				<TreeList.View>
					<GridView>
						<GridViewColumn Width="250" Header="{x:Static res:VariableDetailsView.Type}">
							<GridViewColumn.CellTemplate>
								<DataTemplate>
									<StackPanel Orientation="Horizontal">
										<Image
											Width="24"
											Margin="2"
											VerticalAlignment="Center"
											Source="/Controls;component/Images/GlobalVariable.png" />
										<TextBlock
											HorizontalAlignment="Stretch"
											VerticalAlignment="Center"
											Text="{Binding Name}" />
									</StackPanel>
								</DataTemplate>
							</GridViewColumn.CellTemplate>
						</GridViewColumn>
					</GridView>
				</TreeList.View>
			</TreeList>
			<StackPanel
				Grid.Column="2"
				HorizontalAlignment="Stretch"
				Orientation="Vertical"
				Visibility="{Binding IsRealType, Converter={StaticResource BoolToVisibilityConverter}}">
				<StackPanel
					Height="28"
					Margin="2"
					HorizontalAlignment="Right"
					Orientation="Horizontal">
					<Label Content="{x:Static res:VariableDetailsView.Name}" />
					<TextBox
						Width="200"
						Margin="2"
						Text="{Binding Name, UpdateSourceTrigger=PropertyChanged}" />
				</StackPanel>
			</StackPanel>
			<Views:ExplicitValuesView
				Grid.Row="1"
				Grid.Column="2"
				DataContext="{Binding ExplicitValuesViewModel}"
				Visibility="{Binding RelativeSource={RelativeSource FindAncestor, AncestorType={x:Type UserControl}}, Path=DataContext.IsRealType, Converter={StaticResource BoolToVisibilityConverter}}" />
		</Grid>
	</Border>
</UserControl>