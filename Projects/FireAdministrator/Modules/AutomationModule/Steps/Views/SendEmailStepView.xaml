<UserControl
	x:Class="AutomationModule.Views.SendEmailStepView"
	xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
	xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
	xmlns:views="clr-namespace:AutomationModule.Views">
	<UserControl.Resources>
		<ResourceDictionary>
			<ResourceDictionary.MergedDictionaries>
				<ResourceDictionary Source="ProcedureResources.xaml" />
			</ResourceDictionary.MergedDictionaries>
			<Style BasedOn="{StaticResource {x:Type TextBlock}}" TargetType="{x:Type TextBlock}">
				<Setter Property="Foreground" Value="White" />
				<Setter Property="VerticalAlignment" Value="Center" />
				<Setter Property="Margin" Value="2" />
			</Style>
		</ResourceDictionary>
	</UserControl.Resources>
	<ScrollViewer VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Auto">
		<StackPanel>
			<TextBlock Text="Параметры сообщения" Margin="120 2 2 10" />
			<Grid>
				<Grid.ColumnDefinitions>
					<ColumnDefinition Width="120"/>
					<ColumnDefinition Width="*"/>
				</Grid.ColumnDefinitions>
				<Grid.RowDefinitions>
					<RowDefinition/>
					<RowDefinition/>
					<RowDefinition/>
					<RowDefinition/>
					<RowDefinition/>
				</Grid.RowDefinitions>

				<TextBlock Grid.Row="0" Grid.Column="0" Text="От кого" />
				<views:ArgumentView Grid.Row="0" Grid.Column="1" DataContext="{Binding EMailAddressFromArgument}" />

				<TextBlock Grid.Row="1" Grid.Column="0" Text="Кому" VerticalAlignment="Top" Margin="2 10 2 2" />
				<ItemsControl Grid.Row="1" Grid.Column="1" ItemsSource="{Binding EMailAddressToArguments}">
					<ItemsControl.ItemTemplate>
						<DataTemplate>
							<views:AddRemoveArgumentView DataContext="{Binding .}" />
						</DataTemplate>
					</ItemsControl.ItemTemplate>
				</ItemsControl>

				<TextBlock Grid.Row="2" Grid.Column="0" Text="Тема письма" />
				<views:ArgumentView Grid.Row="2" Grid.Column="1" DataContext="{Binding EMailTitleArgument}" />

				<TextBlock Grid.Row="3" Grid.Column="0" Text="Текст письма" />
				<views:ArgumentView Grid.Row="3" Grid.Column="1" DataContext="{Binding EMailContentArgument}" />

				<TextBlock Grid.Row="4" Grid.Column="0" Text="Путь к файлу" VerticalAlignment="Top" Margin="2 10 2 2"/>
				<ItemsControl Grid.Row="4" Grid.Column="1" ItemsSource="{Binding EMailAttachedFileArguments}">
					<ItemsControl.ItemTemplate>
						<DataTemplate>
							<views:AddRemoveArgumentView DataContext="{Binding .}" />
						</DataTemplate>
					</ItemsControl.ItemTemplate>
				</ItemsControl>

			</Grid>
			<TextBlock Text="Параметры подключения к серверу" Margin="120 10 2 10"/>
			<Grid>
				<Grid.ColumnDefinitions>
					<ColumnDefinition Width="120"/>
					<ColumnDefinition Width="*"/>
				</Grid.ColumnDefinitions>
				<Grid.RowDefinitions>
					<RowDefinition/>
					<RowDefinition/>
					<RowDefinition/>
					<RowDefinition/>
					<RowDefinition/>
				</Grid.RowDefinitions>
				<TextBlock Grid.Row="0" Grid.Column="0" Text="Адрес сервера" />
				<views:ArgumentView Grid.Row="0" Grid.Column="1" DataContext="{Binding SmtpArgument}" />

				<TextBlock Grid.Row="1" Grid.Column="0" Text="Порт" />
				<views:ArgumentView Grid.Row="1" Grid.Column="1" DataContext="{Binding PortArgument}" />

				<TextBlock Grid.Row="2" Grid.Column="0" Text="Логин" />
				<views:ArgumentView Grid.Row="2" Grid.Column="1" DataContext="{Binding LoginArgument}" />

				<TextBlock Grid.Row="3" Grid.Column="0" Text="Пароль" />
				<views:ArgumentView Grid.Row="3" Grid.Column="1" DataContext="{Binding PasswordArgument}" />

				<TextBlock Grid.Row="4" Grid.Column="0" Text="Защита соединения" />
				<ComboBox Grid.Row="4" Grid.Column="1" HorizontalAlignment="Left" ItemsSource="{Binding SecureProtocols}" SelectedItem="{Binding SecureProtocol, UpdateSourceTrigger=PropertyChanged}" Margin="2">
					<ComboBox.ItemTemplate>
						<DataTemplate>
							<TextBlock Text="{Binding ., Converter={StaticResource EnumToDescriptionConverter} }"/>
						</DataTemplate>
					</ComboBox.ItemTemplate>
				</ComboBox>
			</Grid>
		</StackPanel>
	</ScrollViewer>
</UserControl>