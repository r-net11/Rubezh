<UserControl
	x:Class="AutomationModule.Views.AddGlobalVariableDialogView"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:views="clr-namespace:AutomationModule.Views"
    mc:Ignorable="d"
	MinWidth="650"
	MinHeight="400">
	<Border Background="{DynamicResource BackgroundBrush}">
		<Grid>
			<Grid.ColumnDefinitions>
				<ColumnDefinition />
				<ColumnDefinition />
			</Grid.ColumnDefinitions>
			<TreeList
				Grid.RowSpan="3"
				Focusable="True"
				SelectedTreeNode="{Binding SelectedExplicitType}"
				SelectionMode="Single"
				Source="{Binding ExplicitTypes}">
				<TreeList.View>
					<GridView>
						<GridViewColumn Width="250" Header="Тип">
							<GridViewColumn.CellTemplate>
								<DataTemplate>
									<StackPanel Orientation="Horizontal">
										<Image
											Width="24"
											Margin="2"
											VerticalAlignment="Center"
											Source="/Controls;component/Images/GlobalVariable.png" />
										<TextBlock
											HorizontalAlignment="Stretch"
											VerticalAlignment="Center"
											Text="{Binding Name}" />
									</StackPanel>
								</DataTemplate>
							</GridViewColumn.CellTemplate>
						</GridViewColumn>
					</GridView>
				</TreeList.View>
			</TreeList>
			<Grid Grid.Column="1" Margin="0 20 10 0">
				<Grid.RowDefinitions>
					<RowDefinition Height="Auto" />
					<RowDefinition Height="Auto" />
					<RowDefinition Height="Auto" />
				</Grid.RowDefinitions>
				<StackPanel
					HorizontalAlignment="Stretch"
					Orientation="Vertical"
					VerticalAlignment="Center"
					Visibility="{Binding IsRealType, Converter={StaticResource BoolToVisibilityConverter}}">
					<StackPanel
						Height="28"
						Margin="0 5"
						HorizontalAlignment="Right"
						Orientation="Horizontal">
						<TextBlock
							Text="Имя"
							VerticalAlignment="Center"
							Margin="5"
							Foreground="White"/>
						<TextBox
							Width="200"
							Margin="2 2 3 2"
							Text="{Binding Name, UpdateSourceTrigger=PropertyChanged}" />
					</StackPanel>
				</StackPanel>
				<views:ExplicitValuesView
					Grid.Row="1"
					VerticalAlignment="Center"
					Margin="0 5"
					DataContext="{Binding ExplicitValuesViewModel}"
					Visibility="{Binding RelativeSource={RelativeSource FindAncestor, AncestorType={x:Type UserControl}}, Path=DataContext.IsRealType, Converter={StaticResource BoolToVisibilityConverter}}" />
				<CheckBox
					Grid.Row="2"
					Content="Сохранять значение при перезапуске сервера"
					Foreground="White"
					VerticalAlignment="Center"
					IsChecked="{Binding IsSaveWhenRestart}"
					FlowDirection="RightToLeft"
					Margin="5"/>
			</Grid>
		</Grid>
		<!--<Grid Margin="10">
			<Grid.ColumnDefinitions>
				<ColumnDefinition />
				<ColumnDefinition Width="5" />
				<ColumnDefinition />
			</Grid.ColumnDefinitions>
			<Grid.RowDefinitions>
				<RowDefinition Height="Auto" />
				<RowDefinition Height="Auto" />
				<RowDefinition Height="*" />
			</Grid.RowDefinitions>


		</Grid>-->
	</Border>
</UserControl>
