<UserControl x:Class="StrazhModule.Views.DevicesMenuView"
			 xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
			 xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
			 xmlns:lang="clr-namespace:Localization.Strazh.Views;assembly=Localization"
			 xmlns:langCommon="clr-namespace:Localization.Strazh.Common;assembly=Localization">

	<StackPanel Orientation="Horizontal" DataContext="{Binding Context}">
        <ToolBarButton Command="{Binding SearchDevicesCommand}" DataContext="{Binding SelectedDevice}" ToolTip="{x:Static lang:CommonViews.Autosearch}" ImageSource="Search" />
        <ToolBarButton Command="{Binding AddCommand}" DataContext="{Binding SelectedDevice}" ToolTip="{x:Static langCommon:CommonResources.Add}" ImageSource="Add" />
        <ToolBarButton Command="{Binding ShowPropertiesCommand}" DataContext="{Binding SelectedDevice}" ToolTip="{x:Static lang:CommonViews.Properties}" ImageSource="Edit" />
        <ToolBarButton Command="{Binding RemoveCommand}" DataContext="{Binding SelectedDevice}" ToolTip="{x:Static langCommon:CommonResources.Delete}" ImageSource="Delete" />
		<Menu VerticalAlignment="Center" DataContext="{Binding DeviceCommandsViewModel}" FontSize="12">
			<MenuItem>
				<MenuItem.Header>
                    <Grid Background="{DynamicResource ArrowUpDown}" Height="24" Width="24" ToolTip="{x:Static langCommon:CommonResources.Device}" />
				</MenuItem.Header>
                <IconedMenuItem Command="{Binding ShowControllerConfigurationCommand}" ImageSource="BRuleController" Text="{x:Static lang:CommonViews.ControllerManagement}" TotalHeight="24" />
                <IconedMenuItem Command="{Binding ShowControllerDoorTypeCommand}" ImageSource="BTypeController" Text="{x:Static langCommon:CommonResources.ControllerMainSettings}" TotalHeight="24" />
                <IconedMenuItem Command="{Binding ShowControllerPasswordCommand}" ImageSource="BPassController" Text="{x:Static lang:CommonViews.ControllerPassword}" TotalHeight="24" />
                <IconedMenuItem Command="{Binding ShowControllerNetworkCommand}" ImageSource="BNetController" Text="{x:Static lang:CommonViews.NetControllerSettings}" TotalHeight="24" />
                <IconedMenuItem Command="{Binding ShowControllerTimeSettingsCommand}" ImageSource="BTimeController" Text="{x:Static langCommon:CommonResources.ControllerTimeSettings}" TotalHeight="24" />
                <IconedMenuItem Command="{Binding ShowWriteConfigurationInAllControllersCommand}" ImageSource="BGraphAllController" Text="{x:Static langCommon:CommonResources.WriteConfigAllControllers}" TotalHeight="24" />
                <IconedMenuItem Command="{Binding ShowLockConfigurationCommand}" ImageSource="BLockParam" Text="{x:Static langCommon:CommonResources.LockParameters}" TotalHeight="24" />
                <IconedMenuItem Command="{Binding ShowControllerLocksPasswordsCommand}" ImageSource="BPassController" Text="{x:Static langCommon:CommonResources.LocksPassword}" TotalHeight="24" />
			</MenuItem>
			<Menu.Style>
				<Style TargetType="{x:Type Menu}">
					<Style.Triggers>
						<DataTrigger Binding="{Binding HasMissmath}" Value="False">
							<DataTrigger.Setters>
								<Setter Property="Background" Value="Transparent" />
							</DataTrigger.Setters>
						</DataTrigger>
						<DataTrigger Binding="{Binding HasMissmath}" Value="True">
							<DataTrigger.Setters>
								<Setter Property="Background" Value="Red" />
							</DataTrigger.Setters>
						</DataTrigger>
					</Style.Triggers>
				</Style>
			</Menu.Style>
		</Menu>
	</StackPanel>
</UserControl>