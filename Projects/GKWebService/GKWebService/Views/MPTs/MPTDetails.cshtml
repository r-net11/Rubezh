@{
	Layout = null;
}

<div modal-draggable modaless>
	<div class="modal-header">
		<a class="close" href="#"><img src="Content/Image/Icon/Header/close_pop.png" title="Закрыть" ng-click="cancel()" /></a>
		<h3 class="modal-title">{{mpt.Name}}</h3>
	</div>
	<div class="modal-body">
		<div>
			<div>
				<div ng-style="{'background-color': mpt.StateColor}" style="width: 50px; height: 50px; border-width: 2px; margin: 5px; float: left"></div>
				<div style="float: left; width: 300px">
					<ul>
						<li ng-repeat="stateClass in mpt.StateClasses">
							<img style="margin: 2px; vertical-align:middle" ng-src="/Content/Image/Icon/GKStateIcons/{{stateClass.IconData}}.png" />
							{{stateClass.Name}}
						<li>
					</ul>
				</div>
				<div style="float: left">
					<div ng-show="mpt.HasOnDelay">
						<span>Задержка на включение</span> <br />
						<span>{{mpt.OnDelay}}</span><span> сек</span>
					</div>
					<div ng-show="mpt.HasHoldDelay">
						<span>Удержание</span> <br />
						<span>{{mpt.HoldDelay}}</span><span> сек</span>
					</div>
				</div>
				<div style="clear: left">
				</div>
			</div>
			<uib-tabset>
				<uib-tab heading="Управление">
					<div class="detailsTab">
						<span class="labelImage-md" style="background-image:url(/Content/Image/Icon/GKStateIcons/{{mpt.ControlRegimeIcon}}.png)">Режим {{mpt.ControlRegimeName}}</span>
						<div class="btn btn-primary btn-control" ng-click="SetAutomaticState()" ng-disabled="!mpt.CanSetAutomaticState">Автоматика</div>
						<div class="btn btn-primary btn-control" ng-click="SetManualState()" ng-disabled="!mpt.CanSetManualState">Ручное</div>
						<div class="btn btn-primary btn-control" ng-click="SetIgnoreState()" ng-disabled="!mpt.CanSetIgnoreState">Отключение</div>
						<div class="btn btn-primary btn-control" ng-click="TurnOn()" ng-disabled="!mpt.IsControlRegime">Пуск</div>
						<div class="btn btn-primary btn-control" ng-click="TurnOnNow()" ng-disabled="!mpt.IsControlRegime">Пуск немедленно</div>
						<div class="btn btn-primary btn-control" ng-click="TurnOff()" ng-disabled="!mpt.IsControlRegime">Стоп</div>
						<div class="btn btn-primary btn-control" ng-click="ForbidStart()" ng-disabled="!mpt.IsControlRegime">Останов пуска</div>
					</div>
				</uib-tab>
				<uib-tab heading="Свойства">
					<div class="detailsTab">
						<div class="properties">
							<a href="#" class="labelImage" style="background-image:url(/Content/Image/Icon/GK/BMPT.png)" ng-click="Show()">{{mpt.Name}}</a>
							<div>
								<span>Номер в ГК:</span>
								<span>{{mpt.GKDescriptorNo}}</span>
							</div>
							<a href="#" class="labelImage" ng-click="ShowJournal()" style="background-image:url(/Content/Image/Icon/GK/BJournal.png)">Показать связанные события</a>
							<div>
								<span>Задержка: </span>
								<span>{{mpt.Delay}}</span>
							</div>
						</div>
					</div>
				</uib-tab>
			</uib-tabset>
		</div>
	</div>
</div>