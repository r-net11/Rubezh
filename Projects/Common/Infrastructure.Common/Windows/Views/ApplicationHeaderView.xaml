<UserControl
	x:Class="Infrastructure.Common.Windows.Views.ApplicationHeaderView"
	xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
	xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">
	<UserControl.Resources>
		<DrawingBrush x:Key="Help" Stretch="Uniform">
			<DrawingBrush.Drawing>
				<DrawingGroup>
					<DrawingGroup.Children>
						<GeometryDrawing Brush="{DynamicResource ButtonBackgroundColor}" Geometry="F1 M 15.816,47.168L 27.2133,47.168L 27.2133,58.2094L 15.816,58.2094M 26.1573,43.3506L 15.816,43.3506C 15.7907,41.9133 15.7773,41.0333 15.7773,40.7227C 15.7773,37.472 16.3293,34.7987 17.4387,32.704C 18.548,30.6067 20.7667,28.2454 24.092,25.624C 27.4147,23.0054 29.4027,21.2894 30.0573,20.4787C 31.056,19.1947 31.552,17.7787 31.552,16.2307C 31.552,14.084 30.6693,12.244 28.8973,10.7094C 27.1267,9.17603 24.7413,8.41071 21.7387,8.41071C 18.844,8.41071 16.424,9.21069 14.4813,10.8093C 12.532,12.408 11.1933,14.8427 10.4653,18.12L 0,16.8613C 0.299998,12.1707 2.356,8.18799 6.18667,4.91199C 10.012,1.63867 15.0373,0 21.252,0C 27.7947,0 33.0013,1.65601 36.868,4.97198C 40.7333,8.28802 42.6667,12.1453 42.6667,16.5467C 42.6667,18.9827 41.9573,21.2894 40.5373,23.4653C 39.1187,25.6373 36.0827,28.6053 31.4307,32.3494C 29.028,34.288 27.536,35.848 26.9507,37.0253C 26.368,38.204 26.1067,40.3147 26.1573,43.3506 Z " />
					</DrawingGroup.Children>
				</DrawingGroup>
			</DrawingBrush.Drawing>
		</DrawingBrush>
		<DrawingBrush x:Key="Minimize" Stretch="Uniform">
			<DrawingBrush.Drawing>
				<DrawingGroup>
					<DrawingGroup.Children>
						<GeometryDrawing Brush="{DynamicResource ButtonBackgroundColor}" Geometry="F1 M 45.5,8.16669L 0,8.16669L 0,0L 45.5,0L 45.5,8.16669 Z " />
					</DrawingGroup.Children>
				</DrawingGroup>
			</DrawingBrush.Drawing>
		</DrawingBrush>
		<DrawingBrush x:Key="Maximize" Stretch="Uniform">
			<DrawingBrush.Drawing>
				<DrawingGroup>
					<DrawingGroup.Children>
						<GeometryDrawing Brush="{DynamicResource ButtonBackgroundColor}" Geometry="F1 M 37.3333,37.3333L 7.83333,37.3333L 7.83333,8L 37.3333,8M 0,45.3333L 45.1667,45.3333L 45.1667,0L 0,0L 0,45.3333 Z " />
					</DrawingGroup.Children>
				</DrawingGroup>
			</DrawingBrush.Drawing>
		</DrawingBrush>
		<DrawingBrush x:Key="Normalize" Stretch="Uniform">
			<DrawingBrush.Drawing>
				<DrawingGroup>
					<DrawingGroup.Children>
						<GeometryDrawing Brush="{DynamicResource ButtonBackgroundColor}" Geometry="F1 M 24.0413,18.6667L 2.66667,18.6667L 2.66667,2.70801L 24.0413,2.70801M 0,21.3746L 26.6667,21.3746L 26.6667,0L 0,0L 0,21.3746 Z " />
						<GeometryDrawing Brush="{DynamicResource ButtonBackgroundColor}" Geometry="F1 M 29.3473,8.01398L 29.3473,24.014L 8.014,24.014L 8.014,32.042L 37.3473,32.042L 37.3473,8.01398L 29.3473,8.01398 Z " />
					</DrawingGroup.Children>
				</DrawingGroup>
			</DrawingBrush.Drawing>
		</DrawingBrush>
		<DrawingBrush x:Key="Close" Stretch="Uniform">
			<DrawingBrush.Drawing>
				<DrawingGroup>
					<DrawingGroup.Children>
						<GeometryDrawing Brush="{DynamicResource ButtonBackgroundColor}" Geometry="F1 M 185.056,-86.5898L 172.309,-99.3365L 185.056,-112.083L 176.469,-120.67L 163.723,-107.923L 150.976,-120.67L 142.389,-112.083L 155.136,-99.3365L 142.389,-86.5898L 150.975,-78.0032L 163.723,-90.7485L 176.469,-78.0032L 185.056,-86.5898 Z " />
					</DrawingGroup.Children>
				</DrawingGroup>
			</DrawingBrush.Drawing>
		</DrawingBrush>
	</UserControl.Resources>
	<Grid Visibility="{Binding ShowIconAndTitle, Converter={StaticResource BoolToVisibilityConverter}}">
		<Grid.RowDefinitions>
			<RowDefinition />
			<RowDefinition />
			<RowDefinition />
		</Grid.RowDefinitions>
		<Grid.ColumnDefinitions>
			<ColumnDefinition Width="auto" />
			<ColumnDefinition Width="auto" />
			<ColumnDefinition />
			<ColumnDefinition Width="auto" />
		</Grid.ColumnDefinitions>
		<ContentPresenter
			Grid.ColumnSpan="4"
			Content="{Binding Content.HeaderTop}" />
		<Grid
			Grid.Row="1"
			Width="32"
			Height="26"
			Margin="10 5 0 5"
			HorizontalAlignment="Left"
			Opacity="0.5"
			RenderOptions.BitmapScalingMode="NearestNeighbor"
			Background="{DynamicResource logo}"
			Visibility="{Binding Content.AllowLogoIcon, Converter={StaticResource BoolToVisibilityConverter}}" />
		<ContentPresenter
			Grid.Row="1"
			Grid.Column="1"
			Content="{Binding Content.HeaderMenu}" />
		<TextBlock
			Grid.Row="1"
			Grid.Column="2"
			Margin="0 5"
			HorizontalAlignment="Center"
			VerticalAlignment="Center"
			FontFamily="Arial"
			FontSize="15"
			Foreground="{DynamicResource ForegroundColorLight}"
			Opacity="0.5"
			Text="{Binding Content.Title}" />
		<StackPanel
			Grid.Row="1"
			Grid.Column="3"
			Margin="0, 2, 2, 0"
			VerticalAlignment="Top"
			Orientation="Horizontal">
			<Menu
				VerticalAlignment="Center"
				Background="Transparent"
				Focusable="False"
				Visibility="{Binding Content.AllowHelp, Converter={StaticResource BoolToVisibilityConverter}}">
				<MenuItem Focusable="False">
					<MenuItem.Header>
						<Grid
							Height="12"
							Width="12"
							Margin="-2"
							Background="{StaticResource Help}" />
					</MenuItem.Header>
					<MenuItem
						Command="{Binding Content.ApplicationHelpCommand}"
						Focusable="False"
						Header="Помощь" />
					<MenuItem
						Command="{Binding Content.ApplicationAboutCommand}"
						Focusable="False"
						Header="О программе" />
				</MenuItem>
			</Menu>
			<Button
				Command="{Binding Content.ApplicationMinimizeCommand}"
				Focusable="False"
				Style="{StaticResource ToolBarButtonStyle}"
				ToolTip="Свернуть"
				Visibility="{Binding Content.AllowMinimize, Converter={StaticResource BoolToVisibilityConverter}}">
				<Grid
					Height="12"
					Width="12"
					Margin="-2"
					Background="{StaticResource Minimize}" />
			</Button>
			<StackPanel
				Orientation="Horizontal"
				Visibility="{Binding Content.AllowMaximize, Converter={StaticResource BoolToVisibilityConverter}}">
				<Button
					Command="{Binding Content.ApplicationMaximizeCommand}"
					Focusable="False"
					Style="{StaticResource ToolBarButtonStyle}"
					ToolTip="Развернуть"
					Visibility="{Binding Content.IsMaximized, Converter={StaticResource BoolToVisibilityConverter}}">
					<Grid
						Height="12"
						Width="12"
						Margin="-2"
						Background="{StaticResource Maximize}" />
				</Button>
				<Button
					Command="{Binding Content.ApplicationNormalizeCommand}"
					Focusable="False"
					Style="{StaticResource ToolBarButtonStyle}"
					ToolTip="Нормальный размер"
					Visibility="{Binding Content.IsMaximized, Converter={StaticResource InversedBoolToVisibilityConverter}}">
					<Grid
						Height="12"
						Width="12"
						Margin="-2"
						Background="{StaticResource Normalize}" />
				</Button>
			</StackPanel>
			<Button
				Command="{Binding Content.ApplicationCloseCommand}"
				Focusable="False"
				Style="{StaticResource ToolBarButtonStyle}"
				ToolTip="Закрыть"
				Visibility="{Binding Content.AllowClose, Converter={StaticResource BoolToVisibilityConverter}}">
				<Grid
					Height="12"
					Width="12"
					Margin="-2"
					Background="{StaticResource Close}" />
			</Button>
		</StackPanel>
	</Grid>
</UserControl>