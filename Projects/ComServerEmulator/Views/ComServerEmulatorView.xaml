<Window x:Class="ComServerEmulator.ComServerEmulatorView"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="clr-namespace:ComServerEmulator"
    xmlns:custom="clr-namespace:CustomControls;assembly=CustomControls"
        Title="Com Server Emulator"
        WindowStyle="None"
        AllowsTransparency="True"
        ResizeMode="CanResizeWithGrip"
        Background="Transparent"
        MinHeight="200"
        MinWidth="200"
        Height="700" Width="900" Loaded="Window_Loaded" >
    <Window.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="ButtonInVistaStyle.xaml" />
            </ResourceDictionary.MergedDictionaries>
        </ResourceDictionary>
    </Window.Resources>
    <Border
        BorderBrush="LightSalmon"
        BorderThickness="2"
        CornerRadius="10"
        Background="Beige"
        Padding="5">
        <HeaderedContentControl>
            <HeaderedContentControl.Header>
                <Grid MouseDown="Grid_MouseDown">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="auto" />
                    </Grid.ColumnDefinitions>
                    <Border Grid.ColumnSpan="2"
                            BorderBrush="DarkSalmon"
                            BorderThickness="0"
                            CornerRadius="4">
                        <Border.Background>
                            <LinearGradientBrush StartPoint="0.0, 0.5" EndPoint="1.0, 0.5">
                                <GradientStop Color="#222222" Offset="0.0" />
                                <GradientStop Color="Transparent" Offset="1.2" />
                            </LinearGradientBrush>
                        </Border.Background>
                    </Border>
                    <TextBlock Grid.Column="0"
                               FontSize="16"
                               FontWeight="Bold"
                               VerticalAlignment="Center"
                               Margin="3"
                            Foreground="White"
                            Text="Com Server Emulator" />
                    <StackPanel Orientation="Horizontal" VerticalAlignment="Top" HorizontalAlignment="Right">
                        <custom:XSButton Content="_" Width="30" Height="30" CornerRadius="40"
                                 Background="DarkSlateGray"
                                 Foreground="White"
                                 GlowColor="Yellow" HighlightStyle="Elliptical" />
                        <custom:XSButton Content="П" Width="30" Height="30" CornerRadius="40"
                                 Background="DarkSlateGray"
                                 Foreground="White"
                                 GlowColor="Yellow" HighlightStyle="Elliptical" />
                        <custom:XSButton Content="X" Width="40" Height="40" CornerRadius="40"
                                 Background="DarkRed"
                                 Foreground="White"
                                 GlowColor="Yellow" HighlightStyle="Elliptical"
                                 Click="Button_Click" />
                    </StackPanel>

                </Grid>
            </HeaderedContentControl.Header>
            <HeaderedContentControl.Content>
                <StackPanel Margin="1">
                    <StackPanel  Orientation="Horizontal" Margin="10">
                        <Button Template="{StaticResource GlassButton}" Command="{Binding GetStateCommand}" Margin="2" >
                            <TextBlock Padding="1" Margin="3" Text="Get State" Foreground="White" FontSize="16"></TextBlock>
                        </Button>
                        <Button Template="{StaticResource GlassButton}" Command="{Binding GetCoreStateCommand}" Margin="2" >
                            <TextBlock Padding="1" Margin="3" Text="GetCoreState" Foreground="White" FontSize="16"></TextBlock>
                        </Button>
                    </StackPanel>
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition />
                            <ColumnDefinition />
                        </Grid.ColumnDefinitions>
                        <local:DeviceTreeView Grid.Column="0" />
                        <local:DeviceDetailsView Grid.Column="1" />
                    </Grid>
                    <TextBox Text="{Binding StateMessage}" />
                </StackPanel>
            </HeaderedContentControl.Content>
        </HeaderedContentControl>
    </Border>
</Window>
